# Arquivo de Configuração do Firewall - iptables
# Autor: Grupo ASI - IFG Câmpus Formosa
# Data: 2024

# =============================================================================
# CONFIGURAÇÕES GERAIS
# =============================================================================

# Interface de rede externa (ajuste conforme sua configuração)
EXTERNAL_INTERFACE="eth0"

# Interface de rede interna (ajuste conforme sua configuração)
INTERNAL_INTERFACE="eth1"

# Rede interna (ajuste conforme sua configuração)
INTERNAL_NETWORK="192.168.1.0/24"

# Servidor web interno (para port forwarding)
WEB_SERVER="192.168.1.100"

# =============================================================================
# PORTAS E SERVIÇOS
# =============================================================================

# Portas permitidas para entrada
ALLOWED_PORTS="22 80 443 53 123"

# Portas para serviços internos
INTERNAL_PORTS="3306 5432 6379"

# =============================================================================
# CONFIGURAÇÕES DE SEGURANÇA
# =============================================================================

# Rate limiting para SSH (tentativas por minuto)
SSH_RATE_LIMIT="5"

# Rate limiting para ICMP (pings por segundo)
ICMP_RATE_LIMIT="1"

# Proteção contra força bruta SSH (tentativas antes do bloqueio)
SSH_BRUTE_FORCE_LIMIT="4"

# Tempo de bloqueio para ataques SSH (segundos)
SSH_BLOCK_TIME="300"

# =============================================================================
# CONFIGURAÇÕES DE LOG
# =============================================================================

# Habilitar logging
ENABLE_LOGGING="yes"

# Prefixo para logs SSH
SSH_LOG_PREFIX="SSH_ATTEMPT"

# Prefixo para logs de pacotes rejeitados
DROP_LOG_PREFIX="DROP"

# =============================================================================
# CONFIGURAÇÕES DE NAT
# =============================================================================

# Habilitar NAT
ENABLE_NAT="no"

# Port forwarding (origem:destino)
PORT_FORWARDING=(
    "8080:80"    # Exemplo: porta 8080 externa para 80 interna
    "8443:443"   # Exemplo: porta 8443 externa para 443 interna
)

# =============================================================================
# CONFIGURAÇÕES DE MONITORAMENTO
# =============================================================================

# Habilitar monitoramento
ENABLE_MONITORING="yes"

# Intervalo de verificação (segundos)
MONITOR_INTERVAL="60"

# =============================================================================
# CONFIGURAÇÕES DE BACKUP
# =============================================================================

# Diretório de backup
BACKUP_DIR="/backup/iptables"

# Manter número de backups
KEEP_BACKUPS="10"

# Backup automático
AUTO_BACKUP="yes"

# =============================================================================
# CONFIGURAÇÕES AVANÇADAS
# =============================================================================

# Habilitar proteção contra SYN flood
PROTECT_SYN_FLOOD="yes"

# Habilitar proteção contra port scanning
PROTECT_PORT_SCAN="yes"

# Habilitar proteção contra spoofing
PROTECT_SPOOFING="yes"

# Habilitar proteção contra fragmentação
PROTECT_FRAGMENTATION="yes"

# =============================================================================
# CONFIGURAÇÕES DE PERSISTÊNCIA
# =============================================================================

# Salvar configurações automaticamente
AUTO_SAVE="yes"

# Usar netfilter-persistent
USE_NETFILTER_PERSISTENT="yes"

# =============================================================================
# CONFIGURAÇÕES DE NOTIFICAÇÃO
# =============================================================================

# Habilitar notificações por email
ENABLE_EMAIL_NOTIFICATIONS="no"

# Email para notificações
ADMIN_EMAIL="admin@exemplo.com"

# Servidor SMTP
SMTP_SERVER="smtp.exemplo.com"

# =============================================================================
# CONFIGURAÇÕES DE TESTE
# =============================================================================

# Modo de teste (não aplica regras, apenas simula)
TEST_MODE="no"

# Verbose (mostrar todas as operações)
VERBOSE="yes"

# =============================================================================
# FIM DO ARQUIVO DE CONFIGURAÇÃO
# ============================================================================= 